<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <link rel="stylesheet" href="/servable/static/css/photochop.css">
    <title>Photochop</title>
    <meta charset="utf-8" />
    <script type="text/javascript">
        var index = 0;
        var count;
        var img;
        var session;
        function nextImg() {
            index++;
            if (index >= count) {
                window.location = 'DownloadPage.html?s=' + session + '&c=' + count;
                return;
            }
            img.src = "/File" + index + '/' + session;
        }

        function previousImg() {
            index--;
            if (index < 0) index++; // Do nothing -- Or possibly ask the use if they want to start over 
            else 
            {
                img.src = "/File" + index + '/' + session;
            }
        }
        window.onload = function () {
            session = window.location.href;
            var ix1 = session.indexOf("?s=") + 3;
            var ix2 = session.indexOf("&c=");
            count = parseInt(session.substring(ix2 + 3));
            session = session.substring(ix1, ix2);
            img = document.getElementById('image');
            img.src = "/File" + index + '/' + session;
            img.removeAttribute('hidden');
            document.getElementById('next').addEventListener('click', nextImg);
            document.getElementById('back').addEventListener('click', previousImg);

        }
    </script>
</head>
<body>
    <h1 style="margin: 0 auto;">Your Image</h1>
    <br /><br />
    <section>
        <img id="image" hidden src="" />
        <img id="next" src="../static/images/next-btn.png" />
        <img id="back" src="../static/images/back-btn.png" />        
    </section>
    <section>
        <button id="ruleOfThirds">RULE OF THIRDS</button>
        <button id="mostColorfulArea">MOST COLORFUL AREA</button>
    </section>
</body>
</html>